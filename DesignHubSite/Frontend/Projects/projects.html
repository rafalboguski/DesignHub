
<div ng-show="{{user_logged}}" class="window">
    <div>
        <div data-ng-init="getProjects()">





            <!-- ADD NEW PROJECT -->
            <!-- TODO: extract this to controller -->
            <script>
                // materialize modal initailizer
                $(document).ready(function () {
                    jQuery.noConflict();
                    $('.modal-trigger').leanModal();
                });
            </script>
            <!-- Modal trigger -->
            <div class="fixed-action-btn" style="bottom: 45px; right: 24px;">
                <a class="modal-trigger btn-floating btn-large red waves-effect waves-light" data-target="AddProjectModal">
                    <i class="large material-icons">add</i>
                </a>
                <!--<ul>
                    <li><a class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></a></li>
                    <li><a class="btn-floating green"><i class="material-icons">publish</i></a></li>
                    <li><a class="btn-floating blue"><i class="material-icons">attach_file</i></a></li>
                </ul>-->
            </div>


            <div class="row dark-panel">
                <h3>Filter</h3>

                <div class="row well">

                    <button class="btn btn-danger" disabled ng-click="">sdfsdf</button>


                    <button class="btn btn-danger" ng-click="deleteProject(project.id)">sfsdf</button>

                </div>


            </div>


            <!-- Add Project Modal Structure -->
            <div id="AddProjectModal" class="modal bottom-sheet">

                <div class="container">
                    <form novalidate class="simple-form">



                        <div class="col-md-9">
                            <div class="input-field">
                                <input type="text" ng-model="project.name" style="font-size: 22px;" />
                                <label for="icon_prefix" font-size 18px;>Project name</label>

                            </div>
                            <div class="input-field">
                                <textarea type="text" class="materialize-textarea" ng-model="project.description" />
                                <label for="icon_prefix">Description</label>
                            </div>
                        </div>

                        <div class="col-md-3">
                            <btn class="btn waves-effect waves-green" ng-click="createProject(project)">Add new project</btn>
                        </div>

                    </form>
                </div>

            </div>

            <!-- END ADD NEW PROJECT -->

            <br><br>

        </div>
    </div>



    <!-- Projects Gallery -->

    <div ng-show="galleryLoadded">
        <div ng-repeat="Project in projects | limitTo:visibleProjectsNum" repeat-Done="galleryLoaddingFinished();">
            <div class="panel panel-default fill hoverable"
                 style="
                            width: 300px;
                            /*height:500px;*/
                            background-color:transparent;
                            border-radius: 10px;
                            border-color:transparent; /*teal*/
                            float:left;

                            margin:10px;
                            overflow: hidden;
                            ">

                <a class="panel-body"
                   ng-click="href('/project/'+Project.id);"
                   style="padding:0;">

                    <img src="http://www.farhieyecare.com/wp-content/uploads/2012/01/placeholder.png"
                         ng-show="Project.headImage == null"
                         style=" border-top-right-radius: 10px;
                                         cursor:pointer;
                                         border-top-left-radius: 10px;
                                         border-color:transparent;

                                         ">
                    <img src="data:image/JPEG;base64,{{Project.headImage}}"
                         ng-show="Project.headImage != null"
                         style=" border-top-right-radius: 10px;
                                cursor:pointer;
                                border-top-left-radius: 10px;
                                border-color:transparent;
                                width:300px;
                                height:300px;
                                margin:0
                                ">



                </a>
                <div class="panel-heading"
                     style="
                            cursor:pointer;
                            background-color:#0B0B0B;
                             border-bottom-right-radius: 10px;
                             border-bottom-left-radius: 10px;
                             border-color:transparent;
                            ">

                    <h5 class="white-text text-darken-4">
                        {{Project.name}} <i ng-show="Project.accepted" class="material-icons big-icon right" style="background-color: rgb(35, 141, 69) !important;padding: 3px;">done</i> <i ng-show="Project.rejected" class="material-icons big-icon right" style="background-color: red !important;padding: 3px;">error</i>
                    </h5>


                    <div class="projects-panel-details" style="padding-top:4px">
                        <row>{{Project.description}}</row>
                        <row class="fade-overlay"></row>
                    </div>

                </div>

            </div>
        </div>
    </div>
    <div>
        <div ng-hide="galleryLoadded" class="center">
            <h3>Loadding...</h3>

            <div class="preloader-wrapper big active">
                <div class="spinner-layer spinner-blue-only">
                    <div class="circle-clipper left">
                        <div class="circle"></div>
                    </div><div class="gap-patch">
                        <div class="circle"></div>
                    </div><div class="circle-clipper right">
                        <div class="circle"></div>
                    </div>
                </div>
            </div>

        </div>
    </div>


    <!-- TODO: change to load on scroll and add pagination-->
    <div class="row center" ng-show="visibleProjectsNum<projects.size">
        <button class="btn btn-default" ng-click="visibleProjectsNum=visibleProjectsNum+8;">Load more</button>
    </div>

</div>
<br><br><br><br><br><br><br><br>



